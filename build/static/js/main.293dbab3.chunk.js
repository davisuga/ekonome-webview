(this["webpackJsonpekonome-web"]=this["webpackJsonpekonome-web"]||[]).push([[0],{134:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(10),c=n.n(r),l=(n(60),n(13)),u=n.n(l),i=n(17),s=n(11),m=n(48),p=n.n(m),d=(n(65),p.a.initializeApp({apiKey:"AIzaSyAYP7Xkm9NF-Q8YxMuUwigWfiEZW4GoJ3w",authDomain:"ekonome-app.firebaseapp.com",databaseURL:"https://ekonome-app.firebaseio.com",projectId:"ekonome-app",storageBucket:"ekonome-app.appspot.com",messagingSenderId:"497077480109",appId:"1:497077480109:web:b11e78da87be0224d17424",measurementId:"G-RFVWR7Y67L"})),f={apiKey:"AIzaSyAYP7Xkm9NF-Q8YxMuUwigWfiEZW4GoJ3w",authDomain:"ekonome-app.firebaseapp.com",databaseURL:"https://ekonome-app.firebaseio.com",projectId:"ekonome-app",storageBucket:"ekonome-app.appspot.com",messagingSenderId:"497077480109",appId:"1:497077480109:web:b11e78da87be0224d17424",measurementId:"G-RFVWR7Y67L"},E=n(16),b=n(49),g=n(37),h=(n(66),function(){var e=Object(a.useState)("teste"),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),l=Object(s.a)(c,2),m=l[0],p=l[1],f=Object(a.useState)(!1),h=Object(s.a)(f,2),v=h[0],O=h[1],w=Object(a.useState)(""),k=Object(s.a)(w,2),j=k[0],I=k[1],C=function(e){var t=e.closeToast;return(o.a.createElement("div",null,"Accept call from anonymous?",o.a.createElement("br",null),o.a.createElement(E.a,{onClick:function(){return S()}},"Yes"),o.a.createElement(E.a,{onClick:function(){t(),O(!1)}},"No")))},S=function(){p(!0),O(!1)},y=function(e){console.log("changed call state"),r(e.val()),new RegExp("meet.jitsi.si/*").test(e.val())&&(O(!0),Object(g.b)(o.a.createElement(C,null))),console.log("got value ",n)},A=function(){var e=Object(i.a)(u.a.mark((function e(){var t,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=(null===(t=d.auth())||void 0===t?void 0:null===(n=t.currentUser)||void 0===n?void 0:n.uid)||"",I(a),d.database().ref("/economists/".concat(a)).on("value",(function(e){y(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){return A(),function(){console.log("byebye")}}),[]);var x=function(){var e=Object(i.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.auth().signOut().catch((function(e){return console.log("error",e)}));case 2:console.log("quitting...");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o.a.createElement("div",null,o.a.createElement(g.a,{position:"top-center",autoClose:5e4,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),o.a.createElement("h1",null,"Home"),o.a.createElement("div",null,v&&o.a.createElement("div",null,"SOMEONE IS CALLIN YOU BRUH")),o.a.createElement("div",null,m&&o.a.createElement(b.a,{onAPILoad:function(e){e.executeCommand("toggleVideo")},displayName:"Me",roomName:n,config:{startAudioOnly:!0},interfaceConfig:{SHOW_JITSI_WATERMARK:!1}})),o.a.createElement(E.a,{onClick:function(){return x()}},"QUIT ME RN"),m&&o.a.createElement(E.a,{onClick:function(){return p(!1),O(!1),void d.database().ref("/economists/".concat(j)).set("")}},"Close Call"),o.a.createElement("div",{id:"meet"}))}),v=n(34),O=n(36),w=(n(69),n(79),o.a.createContext(!1)),k=n(28),j=n.n(k);function I(){var e=function(){var e=Object(i.a)(u.a.mark((function e(t,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.auth().setPersistence(j.a.auth.Auth.Persistence.LOCAL);case 2:return e.next=4,d.auth().signInWithEmailAndPassword(t,n);case 4:a=e.sent,window.location.href="/",console.log(a);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t=Object(a.useState)(""),n=Object(s.a)(t,2),r=n[0],c=n[1],l=Object(a.useState)(""),m=Object(s.a)(l,2),p=m[0],f=m[1];Object(a.useContext)(w);return o.a.createElement(v.a,null,o.a.createElement(v.b,null,o.a.createElement("h1",null,"Login"),o.a.createElement("form",null,o.a.createElement("h2",null,"Email"),o.a.createElement(O.a,{onChange:function(e){return c(e.currentTarget.value)}}),o.a.createElement("h2",null,"Password"),o.a.createElement(O.a,{onChange:function(e){return f(e.currentTarget.value)}})),o.a.createElement(E.a,{onClick:function(){return e(r,p)},raised:!0},"LOGIN")))}var C=n(38),S=n(35),y=n(3);var A=function(){return o.a.createElement(C.b,Object.assign({firebase:j.a},f),o.a.createElement(C.a,null,(function(e){var t=e.isSignedIn;e.user,e.providerId;return t?o.a.createElement(S.a,null,o.a.createElement(y.c,null,o.a.createElement(y.a,{path:"/",element:o.a.createElement(h,null)}))):o.a.createElement(S.a,null,o.a.createElement(y.c,null,o.a.createElement(y.a,{path:t?"/changeuser":"/login",element:o.a.createElement(I,null)})))})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},55:function(e,t,n){e.exports=n(134)},60:function(e,t,n){}},[[55,1,2]]]);
//# sourceMappingURL=main.293dbab3.chunk.js.map